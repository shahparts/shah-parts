(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4800],{5789:function(e,t,a){"use strict";t.Z=void 0;var l=a(38614);t.Z=l.Col},55673:function(e,t,a){"use strict";t.Z=void 0;var l=a(38614);t.Z=l.Row},13085:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return a(64379)}])},63222:function(e,t,a){"use strict";a.d(t,{Z:function(){return Loading_Loading}});var l=a(85893),s=a(25675),o=a.n(s);a(67294);var r={src:"/_next/static/media/loading.5fd12965.gif",height:200,width:200,blurWidth:0,blurHeight:0},Loading_Loading=()=>(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)("div",{className:"w-[60px]",children:(0,l.jsx)(o(),{src:r,alt:"Spinning Tom Nook Loading Icon",width:100,height:100})})})},98825:function(e,t,a){"use strict";a.d(t,{I:function(){return ProductCard}});var l=a(85893),s=a(45770),o=a(25675),r=a.n(o),i=a(41664),d=a.n(i),u=a(11163),n=a(38293),c=a(90012),h=a.n(c);let ProductCard=e=>{let{product:t}=e,{addToCart:a}=(0,s.i)(),o=(0,u.useRouter)(),handleAddToCart=async()=>{t.qtyToShop=1,await a(t),o.push("/checkout")};return(0,l.jsxs)("div",{className:h().ProductCard,children:[(0,l.jsx)(d(),{href:"/product/".concat(null==t?void 0:t._id),children:(0,l.jsx)(r(),{width:100,height:100,quality:100,src:null==t?void 0:t.Pictures[0],alt:null==t?void 0:t.Title})}),(0,l.jsx)(n.C,{text:"Add To Cart",onClick:handleAddToCart}),(0,l.jsxs)("div",{className:"pt-2 md:p-3",children:[(0,l.jsx)("h2",{children:null==t?void 0:t.Title}),(0,l.jsxs)("p",{children:["$",null==t?void 0:t.Price]})]})]})}},64379:function(e,t,a){"use strict";a.r(t);var l=a(85893),s=a(86978),o=a(5789),r=a(69843),i=a(55673),d=a(64749),u=a(5121),n=a(11163),c=a(67294),h=a(66796),v=a.n(h),p=a(63222),_=a(98825),f=a(48389);t.default=()=>{let e=(0,n.useRouter)(),{setFilterValuesFun:t}=(0,f.b)(),[a,h]=(0,c.useState)([]),[g,m]=(0,c.useState)("createdAt"),[x,P]=(0,c.useState)([]),[y,S]=(0,c.useState)([]),[j,w]=(0,c.useState)(e.query.Make),[N,q]=(0,c.useState)(e.query.Part),[k,A]=(0,c.useState)(e.query.Model),[C,M]=(0,c.useState)(e.query.PartAccessory),[b,Z]=(0,c.useState)(),[T,E]=(0,c.useState)(!1),[L,W]=(0,c.useState)(),[z,H]=(0,c.useState)(1),getAllData=async()=>{E(!0),await u.Z.post("".concat("https://www.shahparts.com/api","/products/get"),{page:z-1,pageSize:"20",priceRange:b,Make:j,Model:k,Part:N,PartAccessorries:C,sortBy:g}).then(a=>{if(E(!1),200===a.status){var l,o,r,i,d;h(null===(l=a.data)||void 0===l?void 0:l.products),W(a.data.count);let s=a.data.products[0];(null==e?void 0:null===(o=e.query)||void 0===o?void 0:o.Make)&&t(null==e?void 0:null===(i=e.query)||void 0===i?void 0:i.Make),(null==e?void 0:null===(r=e.query)||void 0===r?void 0:r.Part)&&t(null==s?void 0:s.Make,null==s?void 0:s.Model,null==e?void 0:null===(d=e.query)||void 0===d?void 0:d.Part)}else(0,s.hW)(a.data.errorMessage)}).catch(e=>{E(!1),console.log(e)})},getAllParts=async()=>{E(!0),await u.Z.get("".concat("https://www.shahparts.com/api","/products/parts")).then(e=>{if(E(!1),200===e.status){var t;P(null===(t=e.data)||void 0===t?void 0:t.map(e=>({value:null==e?void 0:e.part,label:null==e?void 0:e.part})))}else(0,s.hW)(e.data.errorMessage)}).catch(e=>{E(!1),console.log(e)})},getAllMakes=async()=>{E(!0),await u.Z.get("".concat("https://www.shahparts.com/api","/products/makes")).then(e=>{if(E(!1),200===e.status){var t;S(null===(t=e.data)||void 0===t?void 0:t.map(e=>({value:null==e?void 0:e.make,label:null==e?void 0:e.make})))}else(0,s.hW)(e.data.errorMessage)}).catch(e=>{E(!1),console.log(e)})};return(0,c.useEffect)(()=>{var t,a,l,s,o,r,i,d;return getAllParts(),getAllMakes(),(null===(t=e.query)||void 0===t?void 0:t.Make)&&w(null===(o=e.query)||void 0===o?void 0:o.Make),(null===(a=e.query)||void 0===a?void 0:a.Model)&&A(null===(r=e.query)||void 0===r?void 0:r.Model),(null===(l=e.query)||void 0===l?void 0:l.Part)&&q(null===(i=e.query)||void 0===i?void 0:i.Part),(null===(s=e.query)||void 0===s?void 0:s.PartAccessory)&&M(null===(d=e.query)||void 0===d?void 0:d.PartAccessory),()=>{}},[e.query]),(0,c.useEffect)(()=>(getAllData(),()=>{}),[z,j,k,C,N,b,g]),(0,l.jsxs)("div",{className:v().ShopPage,children:[(0,l.jsxs)("div",{className:v().sortSection,children:[(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[(0,l.jsx)("h4",{className:"mb-0",children:"Products"}),(0,l.jsxs)("p",{className:"w-full",children:[null==a?void 0:a.length," of ",L," items"]})]}),(0,l.jsxs)("div",{className:v().right,children:[(0,l.jsx)("h4",{className:"mb-0",children:"Sort By:"}),(0,l.jsx)(d.default,{className:v().sortSelect,defaultValue:"createdAt",onChange:e=>{m(e)},placeholder:"Sort",options:[{value:"lth",label:"Price: Low to High"},{value:"htl",label:"Price: High to Low"},{value:"a-z",label:"Product Name: A-Z"},{value:"z-a",label:"Product Name: Z-A"},{value:"createdAt",label:"Released Date"}]})]})]}),(0,l.jsx)("div",{className:"mt-4",children:T?(0,l.jsx)(p.Z,{}):(0,l.jsx)(i.Z,{gutter:[23,23],className:"p-4",children:null==a?void 0:a.map((e,t)=>(0,l.jsx)(o.Z,{xs:12,md:8,lg:6,children:(0,l.jsx)(_.I,{product:e})},t))})}),(0,l.jsx)("div",{className:"flex justify-center my-10",children:(0,l.jsx)(r.default,{current:z,defaultPageSize:20,showSizeChanger:!1,onChange:e=>H(e),total:L})})]})}},90012:function(e){e.exports={ProductCard:"ProductCard_ProductCard__9rqA7"}},66796:function(e){e.exports={ShopPage:"shop_ShopPage__SFCNH",top:"shop_top__k5euW",title:"shop_title__tQfup",scroll:"shop_scroll__c8fAT",sortSection:"shop_sortSection__YcNWi",right:"shop_right__Zfqmd",sortSelect:"shop_sortSelect__Vofso",filters:"shop_filters__v5onB",filterSection:"shop_filterSection__p9Ebb",select:"shop_select__K8njP"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=13085)}),_N_E=e.O()}]);